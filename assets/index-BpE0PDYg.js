(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const e of n.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&a(e)}).observe(document,{childList:!0,subtree:!0});function d(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=d(s);fetch(s.href,n)}})();document.addEventListener("DOMContentLoaded",()=>{const p=document.querySelector(".buttons-grid"),i=document.querySelector(".textScreen"),d=document.querySelector(".history-screen"),a=document.getElementById("theme-toggle-btn"),s='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>',n='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>';let e={firstValue:"",operator:"",displayValue:"0",needsReset:!1,history:[]};const h=(r,t,o)=>{const l=parseFloat(r),c=parseFloat(o);return t==="+"?l+c:t==="-"?l-c:t==="*"?l*c:t==="/"&&c!==0?l/c:"Error"},m=r=>{e.needsReset&&(e.displayValue="",e.needsReset=!1),e.displayValue=e.displayValue==="0"?r:e.displayValue+r},y=r=>{if(e.operator&&!e.needsReset){const t=h(e.firstValue,e.operator,e.displayValue);e.displayValue=String(t),e.firstValue=String(t)}else e.firstValue=e.displayValue;e.operator=r,e.needsReset=!0},g=()=>{e.needsReset&&(e.displayValue="0",e.needsReset=!1),e.displayValue.includes(".")||(e.displayValue+=".")},V=()=>{e.displayValue=e.displayValue.length>1?e.displayValue.slice(0,-1):"0"},E=()=>{e.displayValue!=="0"&&(e.displayValue=String(parseFloat(e.displayValue)*-1))},S=()=>{e.displayValue=String(parseFloat(e.displayValue)/100)},w=()=>{if(e.firstValue&&e.operator){const r=e.displayValue,t=h(e.firstValue,e.operator,r);if(t!=="Error"){const o=`${e.firstValue} ${e.operator} ${r} = ${t}`;e.history.push(o)}e.displayValue=String(t),e.firstValue=String(t),e.operator="",e.needsReset=!0,f()}},v=()=>{e.firstValue="",e.operator="",e.displayValue="0",e.needsReset=!1,e.history=[],f()},u=()=>{i.textContent=e.displayValue,e.displayValue.length>16?i.style.fontSize="1.5rem":e.displayValue.length>10?i.style.fontSize="2.25rem":i.style.fontSize="3rem"},f=()=>{d.textContent=e.history[e.history.length-1]||""},k=r=>{r==="dark"?(document.documentElement.classList.add("dark"),a.innerHTML=n):(document.documentElement.classList.remove("dark"),a.innerHTML=s)};p.addEventListener("click",r=>{const t=r.target.closest("button");if(!t)return;const{action:o,value:l}=t.dataset;o==="number"&&m(l),o==="operator"&&y(l),o==="decimal"&&g(),o==="delete"&&V(),o==="sign"&&E(),o==="percent"&&S(),o==="calculate"&&w(),o==="clear"&&v(),u()}),window.addEventListener("keydown",r=>{const t=r.key;["/","*","-","+","Enter","%"].includes(t)&&r.preventDefault(),!isNaN(t)&&t.trim()!==""&&m(t),["+","-","*","/"].includes(t)&&y(t),t==="."&&g(),t==="Backspace"&&V(),t==="%"&&S(),(t==="Enter"||t==="=")&&w(),(t==="Escape"||t==="Delete")&&v(),u()}),a.addEventListener("click",()=>{const r=document.documentElement.classList.contains("dark")?"light":"dark";localStorage.setItem("theme",r),k(r)}),(()=>{const r=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");k(r),u(),f()})()});
